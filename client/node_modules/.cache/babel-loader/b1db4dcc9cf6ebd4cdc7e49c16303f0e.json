{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/kosidocs/Web Development/React-Development/contact-us-form/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _defineProperty from\"/home/kosidocs/Web Development/React-Development/contact-us-form/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/kosidocs/Web Development/React-Development/contact-us-form/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/kosidocs/Web Development/React-Development/contact-us-form/node_modules/@babel/runtime/helpers/esm/slicedToArray\";function _templateObject8(){var data=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  margin-top: 40px;\\n  text-align: right;\\n\\n  @media (max-width: 768px) {\\n    text-align: left;\\n  }\\n\"]);_templateObject8=function _templateObject8(){return data;};return data;}function _templateObject7(){var data=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  margin-top: 30px;\\n\"]);_templateObject7=function _templateObject7(){return data;};return data;}function _templateObject6(){var data=_taggedTemplateLiteral([\"\\n  color: #0e054d;\\n  font-weight: 700;\\n  margin-top: 30px;\\n\"]);_templateObject6=function _templateObject6(){return data;};return data;}function _templateObject5(){var data=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: wrap;\\n  justify-content: space-between;\\n  margin-top: 30px;\\n\\n  @media (max-width: 768px) {\\n    flex-direction: column;\\n    justify-content: space-between;\\n    height: 150px;\\n  }\\n\"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: wrap;\\n  justify-content: space-between;\\n  margin-top: 30px;\\n\\n  @media (max-width: 768px) {\\n    flex-direction: column;\\n    justify-content: space-between;\\n    height: 180px;\\n  }\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: wrap;\\n  justify-content: space-between;\\n\\n  @media (max-width: 768px) {\\n    flex-direction: column;\\n    justify-content: space-between;\\n    height: 180px;\\n  }\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  color: \",\";\\n  height: 460px;\\n  text-align: center;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-around;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  width: 71%;\\n  padding: 30px 60px 30px 60px;\\n\\n  @media (max-width: 768px) {\\n    padding: 30px 3px 30px 3px;\\n    width: 100%;\\n  }\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState}from\"react\";import styled from\"styled-components\";import axios from\"axios\";import{saturate}from\"polished\";import TextInput from\"./TextInput\";import EmailInput from\"./EmailInput\";import PhoneInput from\"./PhoneInput\";import RadioBtn from\"./RadioBtn\";import MessageInput from\"./MessageInput\";import Button from\"./Button\";var RightColumn=function RightColumn(){// initialize state to hold validity of form fields\nvar _useState=useState({firstname:false,lastname:false,email:false,phone:false,message:false}),_useState2=_slicedToArray(_useState,2),fieldState=_useState2[0],setFieldState=_useState2[1];var _useState3=useState({firstname:\"\",lastname:\"\",email:\"\",phone:\"\",message:\"\"}),_useState4=_slicedToArray(_useState3,2),fieldValue=_useState4[0],setFieldValue=_useState4[1];// result of our form submit\nvar _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),result=_useState6[0],setResult=_useState6[1];// keep our selected option\nvar _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),radioState=_useState8[0],setRadioState=_useState8[1];// update our selected option with the change\nvar onValueChange=function onValueChange(event){return setRadioState({selectedOption:event.target.value});};// handle our form submit\nvar formSubmit=function formSubmit(event){event.preventDefault();axios.post(\"/send\",_objectSpread({},fieldValue)).then(function(response){setResult(response.data);setFieldValue({firstname:\"\",lastname:\"\",email:\"\",phone:\"\",message:\"\"});setFieldState({firstname:false,lastname:false,email:false,phone:false,message:false});}).catch(function(){setResult({success:false,message:\"Something went wrong. Try again later\"});});};// higher-order function that returns a state change watch function\n// sets the corresponding state property to true if the form field has no errors\nvar fieldStateChanged=function fieldStateChanged(field){return function(state){setFieldValue(function(prevValue){if(field===\"firstname\"){return{firstname:state.value,lastname:prevValue.lastname,email:prevValue.email,phone:prevValue.phone,message:prevValue.message};}else if(field===\"lastname\"){return{firstname:prevValue.firstname,lastname:state.value,email:prevValue.email,phone:prevValue.phone,message:prevValue.message};}else if(field===\"email\"){return{firstname:prevValue.firstname,lastname:prevValue.lastname,email:state.value,phone:prevValue.phone,message:prevValue.message};}else if(field===\"phone\"){return{firstname:prevValue.firstname,lastname:prevValue.lastname,email:prevValue.email,phone:state.value,message:prevValue.message};}else if(field===\"message\"){return{firstname:prevValue.firstname,lastname:prevValue.lastname,email:prevValue.email,phone:prevValue.phone,message:state.value};}});setFieldState(_defineProperty({},field,state.errors.length===0));};};var firstNameChanged=fieldStateChanged(\"firstname\");var lastNameChanged=fieldStateChanged(\"lastname\");var emailChanged=fieldStateChanged(\"email\");var phoneChanged=fieldStateChanged(\"phone\");var messageChanged=fieldStateChanged(\"message\");var validateName=function validateName(value,label){var regex=/^[a-z]{2,}$/i;if(!regex.test(value))throw new Error(\"\".concat(label,\" is invalid\"));};return/*#__PURE__*/React.createElement(Wrapper,null,result?/*#__PURE__*/React.createElement(ResultWrapper,{success:\"\".concat(result.success?\"success\":\"error\")},result.message,/*#__PURE__*/React.createElement(Button,{name:\"Go back\",btnClick:function btnClick(){return window.location.reload(true);}})):/*#__PURE__*/React.createElement(\"form\",{onSubmit:formSubmit},/*#__PURE__*/React.createElement(FirstRow,null,/*#__PURE__*/React.createElement(TextInput,{labelId:\"firstname\",label:\"firstname\",placeholder:\"John Doe\",type:\"text\",validator:validateName,onStateChanged:firstNameChanged,required:true}),/*#__PURE__*/React.createElement(TextInput,{labelId:\"lastname\",label:\"Last Name\",placeholder:\"John Doe\",type:\"text\",validator:validateName,onStateChanged:lastNameChanged,required:true})),/*#__PURE__*/React.createElement(SecondRow,null,/*#__PURE__*/React.createElement(EmailInput,{labelId:\"email\",label:\"email\",placeholder:\"mymail@gmail.com\",onStateChanged:emailChanged,required:true}),/*#__PURE__*/React.createElement(PhoneInput,{labelId:\"phone\",label:\"phone\",placeholder:\"+971 50 267 5078\",onStateChanged:phoneChanged,required:true})),/*#__PURE__*/React.createElement(Description,null,\"What type of website do you need? \",radioState.selectedOption),/*#__PURE__*/React.createElement(ThirdRow,null,/*#__PURE__*/React.createElement(RadioBtn,{id:\"choice1\",value:\"Web Design\",label:\"Web Design\",radioChecked:radioState.selectedOption===\"Web Design\",radioChanged:onValueChange}),/*#__PURE__*/React.createElement(RadioBtn,{id:\"choice2\",value:\"Web Development\",label:\"Web Development\",radioChecked:radioState.selectedOption===\"Web Development\",radioChanged:onValueChange}),/*#__PURE__*/React.createElement(RadioBtn,{id:\"choice3\",value:\"Logo Design\",label:\"Logo Design\",radioChecked:radioState.selectedOption===\"Logo Design\",radioChanged:onValueChange}),/*#__PURE__*/React.createElement(RadioBtn,{id:\"choice4\",value:\"Other\",label:\"Other\",radioChecked:radioState.selectedOption===\"Other\",radioChanged:onValueChange})),/*#__PURE__*/React.createElement(FourthRow,null,/*#__PURE__*/React.createElement(MessageInput,{label:\"message\",labelId:\"message\",placeholder:\"Write your message\",onStateChanged:messageChanged,required:true})),/*#__PURE__*/React.createElement(LastRow,null,/*#__PURE__*/React.createElement(Button,{type:\"submit\",name:\"Send Message\"}))));};var Wrapper=styled.div(_templateObject());var ResultWrapper=styled.div(_templateObject2(),function(props){return props.success?saturate(0.2,\"#472ECD\"):saturate(0.2,\"#F44C57\");});var FirstRow=styled.div(_templateObject3());var SecondRow=styled.div(_templateObject4());var ThirdRow=styled.div(_templateObject5());var Description=styled.div(_templateObject6());var FourthRow=styled.div(_templateObject7());var LastRow=styled.div(_templateObject8());export default RightColumn;","map":{"version":3,"sources":["/home/kosidocs/Web Development/React-Development/contact-us-form/src/component/ContactBody/Right-column/RightColumn.jsx"],"names":["React","useState","styled","axios","saturate","TextInput","EmailInput","PhoneInput","RadioBtn","MessageInput","Button","RightColumn","firstname","lastname","email","phone","message","fieldState","setFieldState","fieldValue","setFieldValue","result","setResult","radioState","setRadioState","onValueChange","event","selectedOption","target","value","formSubmit","preventDefault","post","then","response","data","catch","success","fieldStateChanged","field","state","prevValue","errors","length","firstNameChanged","lastNameChanged","emailChanged","phoneChanged","messageChanged","validateName","label","regex","test","Error","window","location","reload","Wrapper","div","ResultWrapper","props","FirstRow","SecondRow","ThirdRow","Description","FourthRow","LastRow"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\nimport { saturate } from \"polished\";\n\nimport TextInput from \"./TextInput\";\nimport EmailInput from \"./EmailInput\";\nimport PhoneInput from \"./PhoneInput\";\nimport RadioBtn from \"./RadioBtn\";\nimport MessageInput from \"./MessageInput\";\nimport Button from \"./Button\";\n\nconst RightColumn = () => {\n  // initialize state to hold validity of form fields\n  const [fieldState, setFieldState] = useState({\n    firstname: false,\n    lastname: false,\n    email: false,\n    phone: false,\n    message: false,\n  });\n\n  const [fieldValue, setFieldValue] = useState({\n    firstname: \"\",\n    lastname: \"\",\n    email: \"\",\n    phone: \"\",\n    message: \"\",\n  });\n\n  // result of our form submit\n  const [result, setResult] = useState(null);\n\n  // keep our selected option\n  const [radioState, setRadioState] = useState({});\n\n  // update our selected option with the change\n  const onValueChange = (event) =>\n    setRadioState({ selectedOption: event.target.value });\n\n  // handle our form submit\n  const formSubmit = (event) => {\n    event.preventDefault();\n    axios\n      .post(\"/send\", { ...fieldValue })\n      .then((response) => {\n        setResult(response.data);\n        setFieldValue({\n          firstname: \"\",\n          lastname: \"\",\n          email: \"\",\n          phone: \"\",\n          message: \"\",\n        });\n        setFieldState({\n          firstname: false,\n          lastname: false,\n          email: false,\n          phone: false,\n          message: false,\n        });\n      })\n      .catch(() => {\n        setResult({\n          success: false,\n          message: \"Something went wrong. Try again later\",\n        });\n      });\n  };\n\n  // higher-order function that returns a state change watch function\n  // sets the corresponding state property to true if the form field has no errors\n  const fieldStateChanged = (field) => (state) => {\n    setFieldValue((prevValue) => {\n      if (field === \"firstname\") {\n        return {\n          firstname: state.value,\n          lastname: prevValue.lastname,\n          email: prevValue.email,\n          phone: prevValue.phone,\n          message: prevValue.message,\n        };\n      } else if (field === \"lastname\") {\n        return {\n          firstname: prevValue.firstname,\n          lastname: state.value,\n          email: prevValue.email,\n          phone: prevValue.phone,\n          message: prevValue.message,\n        };\n      } else if (field === \"email\") {\n        return {\n          firstname: prevValue.firstname,\n          lastname: prevValue.lastname,\n          email: state.value,\n          phone: prevValue.phone,\n          message: prevValue.message,\n        };\n      } else if (field === \"phone\") {\n        return {\n          firstname: prevValue.firstname,\n          lastname: prevValue.lastname,\n          email: prevValue.email,\n          phone: state.value,\n          message: prevValue.message,\n        };\n      } else if (field === \"message\") {\n        return {\n          firstname: prevValue.firstname,\n          lastname: prevValue.lastname,\n          email: prevValue.email,\n          phone: prevValue.phone,\n          message: state.value,\n        };\n      }\n    });\n    setFieldState({ [field]: state.errors.length === 0 });\n  };\n\n  const firstNameChanged = fieldStateChanged(\"firstname\");\n  const lastNameChanged = fieldStateChanged(\"lastname\");\n  const emailChanged = fieldStateChanged(\"email\");\n  const phoneChanged = fieldStateChanged(\"phone\");\n  const messageChanged = fieldStateChanged(\"message\");\n\n  const validateName = (value, label) => {\n    const regex = /^[a-z]{2,}$/i;\n    if (!regex.test(value)) throw new Error(`${label} is invalid`);\n  };\n\n  return (\n    <Wrapper>\n      {result ? (\n        <ResultWrapper success={`${result.success ? \"success\" : \"error\"}`}>\n          {result.message}\n          <Button\n            name=\"Go back\"\n            btnClick={() => window.location.reload(true)}\n          />\n        </ResultWrapper>\n      ) : (\n        <form onSubmit={formSubmit}>\n          <FirstRow>\n            <TextInput\n              labelId=\"firstname\"\n              label=\"firstname\"\n              placeholder=\"John Doe\"\n              type=\"text\"\n              validator={validateName}\n              onStateChanged={firstNameChanged}\n              required\n            />\n            <TextInput\n              labelId=\"lastname\"\n              label=\"Last Name\"\n              placeholder=\"John Doe\"\n              type=\"text\"\n              validator={validateName}\n              onStateChanged={lastNameChanged}\n              required\n            />\n          </FirstRow>\n          <SecondRow>\n            <EmailInput\n              labelId=\"email\"\n              label=\"email\"\n              placeholder=\"mymail@gmail.com\"\n              onStateChanged={emailChanged}\n              required\n            />\n            <PhoneInput\n              labelId=\"phone\"\n              label=\"phone\"\n              placeholder=\"+971 50 267 5078\"\n              onStateChanged={phoneChanged}\n              required\n            />\n          </SecondRow>\n          <Description>\n            What type of website do you need? {radioState.selectedOption}\n          </Description>\n          <ThirdRow>\n            <RadioBtn\n              id=\"choice1\"\n              value=\"Web Design\"\n              label=\"Web Design\"\n              radioChecked={radioState.selectedOption === \"Web Design\"}\n              radioChanged={onValueChange}\n            />\n            <RadioBtn\n              id=\"choice2\"\n              value=\"Web Development\"\n              label=\"Web Development\"\n              radioChecked={radioState.selectedOption === \"Web Development\"}\n              radioChanged={onValueChange}\n            />\n            <RadioBtn\n              id=\"choice3\"\n              value=\"Logo Design\"\n              label=\"Logo Design\"\n              radioChecked={radioState.selectedOption === \"Logo Design\"}\n              radioChanged={onValueChange}\n            />\n            <RadioBtn\n              id=\"choice4\"\n              value=\"Other\"\n              label=\"Other\"\n              radioChecked={radioState.selectedOption === \"Other\"}\n              radioChanged={onValueChange}\n            />\n          </ThirdRow>\n          <FourthRow>\n            <MessageInput\n              label=\"message\"\n              labelId=\"message\"\n              placeholder=\"Write your message\"\n              onStateChanged={messageChanged}\n              required\n            />\n          </FourthRow>\n          <LastRow>\n            <Button type=\"submit\" name=\"Send Message\" />\n          </LastRow>\n        </form>\n      )}\n    </Wrapper>\n  );\n};\n\nconst Wrapper = styled.div`\n  width: 71%;\n  padding: 30px 60px 30px 60px;\n\n  @media (max-width: 768px) {\n    padding: 30px 3px 30px 3px;\n    width: 100%;\n  }\n`;\n\nconst ResultWrapper = styled.div`\n  width: 100%;\n  color: ${(props) =>\n    props.success ? saturate(0.2, \"#472ECD\") : saturate(0.2, \"#F44C57\")};\n  height: 460px;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n`;\nconst FirstRow = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: space-between;\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    justify-content: space-between;\n    height: 180px;\n  }\n`;\n\nconst SecondRow = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  margin-top: 30px;\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    justify-content: space-between;\n    height: 180px;\n  }\n`;\n\nconst ThirdRow = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  margin-top: 30px;\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    justify-content: space-between;\n    height: 150px;\n  }\n`;\n\nconst Description = styled.div`\n  color: #0e054d;\n  font-weight: 700;\n  margin-top: 30px;\n`;\n\nconst FourthRow = styled.div`\n  width: 100%;\n  margin-top: 30px;\n`;\n\nconst LastRow = styled.div`\n  width: 100%;\n  margin-top: 40px;\n  text-align: right;\n\n  @media (max-width: 768px) {\n    text-align: left;\n  }\n`;\n\nexport default RightColumn;\n"]},"metadata":{},"sourceType":"module"}