{"ast":null,"code":"var _jsxFileName = \"/home/kosidocs/Web Development/React-Development/contact-us-form/src/component/ContactBody/Right-column/PhoneInput.jsx\";\nimport React from \"react\"; // import PropTypes from \"prop-types\";\n// import TextInput from \"./TextInput\";\n\nconst PhoneInput = props => {\n  // prevent passing type and validator props from this component to the rendered form field component\n  // const { type, validator, ...restProps } = props;\n\n  /*******************************************************\n   * create a filter that will be used to determine\n   * which keystrokes are allowed in the input field\n   * and which are not. Since we're working exclusively\n   * with phone numbers, we'll need the following:\n   * -- digits 0 to 9 from the numeric keys\n   * -- digits 0 to 9 from the num pad keys\n   * -- arrow keys (left/right)\n   * -- backspace / delete for correcting\n   * -- tab key to allow focus to shift\n   * -- (numeric key) + for country code\n   *******************************************************/\n  let filter = []; //since we're looking for phone numbers, we need\n  //to allow digits 0 - 9 (they can come from either\n  //the numeric keys or the numpad)\n\n  const keypadZero = 48;\n  const numpadZero = 96; //add key codes for the digits 0 - 9 into this filter\n\n  for (let key = 0; key <= 9; key++) {\n    filter.push(key + keypadZero);\n    filter.push(key + numpadZero);\n  } //add other keys that might be needed for navigation\n  //or for editing the keyboard input\n\n\n  filter.push(8); //backspace\n\n  filter.push(9); //tab\n\n  filter.push(46); //delete\n\n  filter.push(37); //left arrow\n\n  filter.push(39); //right arrow\n\n  filter.push(107); //plus key\n\n  /*******************************************************\n   * replaceAll\n   * returns a string where all occurrences of a\n   * string 'search' are replaced with another\n   * string 'replace' in a string 'src'\n   *******************************************************/\n\n  const replaceAll = (src, search, replace) => src.split(search).join(replace);\n  /*******************************************************\n   * formatPhoneText\n   * returns a string that is in XXX-XXX-XXXX format\n   *******************************************************/\n\n\n  const formatPhoneText = value => {\n    value = replaceAll(value.trim(), \"-\", \"\");\n\n    if (value.length > 3 && value.length <= 6) {\n      value = value.slice(0, 3) + \"-\" + value.slice(3);\n    } else if (value.length > 6) {\n      value = value.slice(0, 3) + \"-\" + value.slice(3, 6) + \"-\" + value.slice(6);\n    }\n\n    return value;\n  };\n  /*******************************************************\n   * validatePhone\n   * return true if the string 'p' is a valid phone\n   *******************************************************/\n\n\n  const validatePhone = p => {\n    let digits = p.replace(/\\D/g, \"\");\n    let phoneReg = /^[(]{0,1}[0-9]{3}[)]{0,1}[-\\s\\.]{0,1}[0-9]{3}[-\\s\\.]{0,1}[0-9]{4}$/;\n    return phoneReg.test(digits);\n  };\n  /*******************************************************\n   * onKeyDown(e)\n   * when a key is pressed down, check if it is allowed\n   * or not. If not allowed, prevent the key event\n   * from propagating further\n   *******************************************************/\n\n\n  const onKeyDownFunc = e => {\n    if (filter.indexOf(e.keyCode) < 0) {\n      e.preventDefault();\n      console.log(filter.indexOf(e.key));\n      return false;\n    }\n  };\n  /*******************************************************\n   * onKeyUp(e)\n   * when a key is pressed up, grab the contents in that\n   * input field, format them in line with XXX-XXX-XXXX\n   * format and validate if the text is infact a complete\n   * phone number. Adjust the border color based on the\n   * result of that validation\n   *******************************************************/\n\n\n  const onKeyUpFunc = e => {\n    let input = e.target;\n    let formatted = formatPhoneText(input.value);\n    let isError = validatePhone(formatted) || formatted.length === 0;\n  }; // const validatePhoneInput = (value, label) => {\n  //   let formatted = formatPhoneText(value);\n  //   if (validatePhone(value) && formatted.length === 0) throw new Error(\"Invalid\");\n  // };\n\n\n  return /*#__PURE__*/React.createElement(\"input\", {\n    onKeyUp: onKeyUpFunc,\n    onKeyDown: onKeyDownFunc,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 10\n    }\n  });\n}; // PhoneInput.propTypes = {\n//   label: PropTypes.string.isRequired,\n//   labelId: PropTypes.string.isRequired,\n//   placeholder: PropTypes.string.isRequired,\n//   required: PropTypes.bool,\n//   onStateChanged: PropTypes.func,\n// };\n\n\nexport default PhoneInput;","map":{"version":3,"sources":["/home/kosidocs/Web Development/React-Development/contact-us-form/src/component/ContactBody/Right-column/PhoneInput.jsx"],"names":["React","PhoneInput","props","filter","keypadZero","numpadZero","key","push","replaceAll","src","search","replace","split","join","formatPhoneText","value","trim","length","slice","validatePhone","p","digits","phoneReg","test","onKeyDownFunc","e","indexOf","keyCode","preventDefault","console","log","onKeyUpFunc","input","target","formatted","isError"],"mappings":"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","sourcesContent":["import React from \"react\";\n// import PropTypes from \"prop-types\";\n\n// import TextInput from \"./TextInput\";\n\nconst PhoneInput = (props) => {\n  // prevent passing type and validator props from this component to the rendered form field component\n  // const { type, validator, ...restProps } = props;\n\n  /*******************************************************\n   * create a filter that will be used to determine\n   * which keystrokes are allowed in the input field\n   * and which are not. Since we're working exclusively\n   * with phone numbers, we'll need the following:\n   * -- digits 0 to 9 from the numeric keys\n   * -- digits 0 to 9 from the num pad keys\n   * -- arrow keys (left/right)\n   * -- backspace / delete for correcting\n   * -- tab key to allow focus to shift\n   * -- (numeric key) + for country code\n   *******************************************************/\n  let filter = [];\n\n  //since we're looking for phone numbers, we need\n  //to allow digits 0 - 9 (they can come from either\n  //the numeric keys or the numpad)\n  const keypadZero = 48;\n  const numpadZero = 96;\n\n  //add key codes for the digits 0 - 9 into this filter\n  for (let key = 0; key <= 9; key++) {\n    filter.push(key + keypadZero);\n    filter.push(key + numpadZero);\n  }\n\n  //add other keys that might be needed for navigation\n  //or for editing the keyboard input\n  filter.push(8); //backspace\n  filter.push(9); //tab\n  filter.push(46); //delete\n  filter.push(37); //left arrow\n  filter.push(39); //right arrow\n\n  filter.push(107); //plus key\n\n  /*******************************************************\n   * replaceAll\n   * returns a string where all occurrences of a\n   * string 'search' are replaced with another\n   * string 'replace' in a string 'src'\n   *******************************************************/\n  const replaceAll = (src, search, replace) => src.split(search).join(replace);\n\n  /*******************************************************\n   * formatPhoneText\n   * returns a string that is in XXX-XXX-XXXX format\n   *******************************************************/\n  const formatPhoneText = (value) => {\n    value = replaceAll(value.trim(), \"-\", \"\");\n\n    if (value.length > 3 && value.length <= 6) {\n      value = value.slice(0, 3) + \"-\" + value.slice(3);\n    } else if (value.length > 6) {\n      value =\n        value.slice(0, 3) + \"-\" + value.slice(3, 6) + \"-\" + value.slice(6);\n    }\n    return value;\n  };\n\n  /*******************************************************\n   * validatePhone\n   * return true if the string 'p' is a valid phone\n   *******************************************************/\n  const validatePhone = (p) => {\n    let digits = p.replace(/\\D/g, \"\");\n    let phoneReg = /^[(]{0,1}[0-9]{3}[)]{0,1}[-\\s\\.]{0,1}[0-9]{3}[-\\s\\.]{0,1}[0-9]{4}$/;\n    return phoneReg.test(digits);\n  };\n\n  /*******************************************************\n   * onKeyDown(e)\n   * when a key is pressed down, check if it is allowed\n   * or not. If not allowed, prevent the key event\n   * from propagating further\n   *******************************************************/\n  const onKeyDownFunc = (e) => {\n    if (filter.indexOf(e.keyCode) < 0) {\n      e.preventDefault();\n      console.log(filter.indexOf(e.key));\n      return false;\n    }\n  };\n\n  /*******************************************************\n   * onKeyUp(e)\n   * when a key is pressed up, grab the contents in that\n   * input field, format them in line with XXX-XXX-XXXX\n   * format and validate if the text is infact a complete\n   * phone number. Adjust the border color based on the\n   * result of that validation\n   *******************************************************/\n  const onKeyUpFunc = (e) => {\n    let input = e.target;\n    let formatted = formatPhoneText(input.value);\n    let isError = validatePhone(formatted) || formatted.length === 0;\n  };\n\n  // const validatePhoneInput = (value, label) => {\n  //   let formatted = formatPhoneText(value);\n  //   if (validatePhone(value) && formatted.length === 0) throw new Error(\"Invalid\");\n  // };\n\n  return <input onKeyUp={onKeyUpFunc} onKeyDown={onKeyDownFunc} />;\n};\n\n// PhoneInput.propTypes = {\n//   label: PropTypes.string.isRequired,\n//   labelId: PropTypes.string.isRequired,\n//   placeholder: PropTypes.string.isRequired,\n//   required: PropTypes.bool,\n//   onStateChanged: PropTypes.func,\n// };\n\nexport default PhoneInput;\n"]},"metadata":{},"sourceType":"module"}